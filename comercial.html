<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Novaklar Portal - Departamento Comercial</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --color-lider: #6C91FF;
            --color-reclutamiento: #6c91ff;
            --color-boton-lider: #00128f;
            --color-boton-reclutamiento: #147a80;
            --bg-dark: #121212;
            --text-light: #00128f;
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
        }

        body {
            margin: 0;
            font-family: 'Poppins', sans-serif;
            background-color: #FFFFFF;
            color: #333;
            transition: background-color 0.5s ease;
        }

        main {
            padding: 40px 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            font-size: 2em;
            color: #00128f;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 700;
            white-space: nowrap;
        }

        .info-section {
            background: #f4f4f9;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 40px;
            text-align: justify;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .info-section p {
            font-size: 1.1em;
            line-height: 1.6;
            margin: 0;
            color: #555;
        }

        .button-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-top: 30px;
        }

        .portal-button {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 25px 30px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 700;
            font-size: 1em;
            transition: transform 0.3s, box-shadow 0.3s, background 0.3s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            width: 250px;
            box-sizing: border-box;
            text-align: center;
            height: 120px;
        }

        .portal-button.lider-ventas {
            background: #6c91ff;
            border: 1px solid #6c91ff;
            color: #00128f;
        }

        .portal-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            background: #5a80e0;
        }

        .portal-button i {
            margin-bottom: 10px;
            font-size: 2.5em;
            color: #00128f;
        }

        footer {
            background-color: #00128f;
            color: #FFFFFF;
            text-align: center;
            padding: 20px;
            margin-top: 50px;
        }

        .back-button a {
            display: flex;
            justify-content: center;
            align-items: center;
            text-decoration: none;
            font-weight: 500;
            margin-bottom: 20px;
            transition: color 0.3s, background-color 0.3s;
            text-align: center;
            background-color: #6c91ff;
            border-radius: 8px;
            padding: 15px 20px;
            width: fit-content;
            margin-left: auto;
            margin-right: auto;
            color: #00128f;
            text-decoration: none;
        }

        .back-button:hover {
            color: #FFFFFF;
            background-color: #5a80e0;
        }

        .back-button i {
            font-size: 1.2em;
            margin-right: 10px;
        }

        @media (max-width: 600px) {
            .section-title {
                font-size: 1.5em;
            }
            .portal-button {
                width: 100%;
                margin-bottom: 10px;
            }
        }

        /* --- Estilos para la nueva tabla de recaudo --- */
        .recaudo-section {
            background: #f4f4f9;
            border-radius: 12px;
            padding: 30px;
            margin-top: 60px;
            margin-bottom: 40px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .recaudo-description-header {
            font-size: 1em;
            line-height: 1.6;
            color: #555;
            text-align: justify;
            margin-bottom: 20px;
        }

        .recaudo-item {
            cursor: pointer;
            background: #FFFFFF;
            border-radius: 8px;
            margin-bottom: 15px;
            padding: 20px;
            transition: background-color 0.3s, transform 0.3s;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .recaudo-item:hover {
            background: #F0F0F0;
            transform: translateY(-3px);
        }

        .recaudo-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .recaudo-title {
            font-size: 1.2em;
            font-weight: 700;
            color: #00128f;
            flex-grow: 1;
        }

        .recaudo-utility {
            font-size: 1.2em;
            font-weight: 700;
            color: #6c91ff; /* Cambiado a 6c91ff */
        }

        .recaudo-description {
            display: none;
            margin-top: 20px;
            font-size: 1em;
            line-height: 1.6;
            color: #555;
            text-align: justify;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            padding-top: 20px;
        }

        .recaudo-description p {
            margin-bottom: 10px;
        }

        .recaudo-item.active .recaudo-description {
            display: block;
        }

        .recaudo-item-icon {
            font-size: 1.2em;
            margin-left: 15px;
            transition: transform 0.3s;
            color: #00128f; /* Cambiado a 00128f */
        }

        .recaudo-item.active .recaudo-item-icon {
            transform: rotate(180deg);
        }

        .distribucion-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .distribucion-table td {
            padding: 10px;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .distribucion-table td:first-child {
            font-weight: bold;
            color: #00128f;
            background-color: #e9e9f4;
        }

        .distribucion-table td:last-child {
            text-align: right;
            color: #6c91ff; /* Cambiado a 6c91ff */
        }

        /* --- Estilos para la calculadora de comisiones --- */
        .calculator-section {
            background: #f4f4f9;
            border-radius: 12px;
            padding: 30px;
            margin-top: 40px;
            margin-bottom: 40px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .calculator-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .calculator-input {
            display: flex;
            flex-direction: column;
        }

        .calculator-input label {
            font-weight: 500;
            margin-bottom: 8px;
            color: #00128f;
        }

        .calculator-input input {
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #ddd;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        .calculator-input input:focus {
            border-color: #6c91ff;
            outline: none;
        }

        .calculator-button {
            grid-column: span 2;
            background-color: #6c91ff;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .calculator-button:hover {
            background-color: #5a80e0;
        }

        .calculator-results {
            background: white;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.1);
            display: none;
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
            font-size: 1.2em;
        }

        .result-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .result-label {
            font-weight: 500;
            color: #555;
        }

        .result-value {
            font-weight: 700;
            color: #00128f;
        }

        @media (max-width: 768px) {
            .calculator-form {
                grid-template-columns: 1fr;
            }
            
            .calculator-button {
                grid-column: span 1;
            }
        }
    </style>
</head>
<body>
    <main>
        <div class="back-button">
            <a href="index.html">
                <i class="fas fa-arrow-left"></i>
                Regresar
            </a>
        </div>

        <h2 class="section-title">Departamento Comercial</h2>

        <section class="info-section">
            <p>En este apartado podrás registrar a los nuevos reclutados, cargar el ranking y consultar el manual de recaudos. Todo ello con el propósito de centralizar la información y optimizar los procesos de gestión comercial.</p>
        </section>

        <section class="portal-section">
            <h2 class="section-title">Herramientas</h2>
            <div class="button-container">
                <a href="https://docs.google.com/forms/d/e/1FAIpQLScv9EWoz5H89s3Tub3m-y9yl3x35EYs9ubDxvG3kGHHQCtBNQ/viewform?usp=header" target="_blank" class="portal-button lider-ventas">
                    <i class="fas fa-user-plus"></i>
                    <span>Registrar afiliado</span>
                </a>
                <a href="https://docs.google.com/forms/d/e/1FAIpQLSeJqPYPHCrZy69Wf2gTxe-9QrTDE0HSKyMF2Fv--UzdeeGtyg/viewform?usp=header" target="_blank" class="portal-button lider-ventas">
                    <i class="fas fa-chart-line"></i>
                    <span>Ranking</span>
                </a>
                <a href="NLC.html" class="portal-button lider-ventas">
                    <i class="fas fa-money-bill-wave"></i>
                    <span>Nómina</span>
                </a>
            </div>
        </section>

        <!-- Sección de la calculadora de comisiones -->
        <h2 class="section-title">Calculadora de Comisiones</h2>
        <section class="calculator-section">
            <div class="calculator-form">
                <div class="calculator-input">
                    <label for="venta">Valor de Venta:</label>
                    <input type="number" id="venta" placeholder="Ingrese el valor de venta" min="0">
                </div>
                <div class="calculator-input">
                    <label for="inversion">Valor de Inversión:</label>
                    <input type="number" id="inversion" placeholder="Ingrese el valor de inversión" min="0">
                </div>
                <button class="calculator-button" onclick="calcularComision()">
                    Calcular Comisión
                </button>
            </div>
            
            <div class="calculator-results" id="resultados">
                <div class="result-item">
                    <span class="result-label">Utilidad Neta:</span>
                    <span class="result-value" id="utilidad-neta">$0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Comisión Promotor:</span>
                    <span class="result-value" id="comision-promotor">$0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Ganancia Empresa:</span>
                    <span class="result-value" id="comision-empresa">$0</span>
                </div>
            </div>
        </section>

        <h2 class="section-title">Manual de Recaudos</h2>
        <section class="recaudo-section">
            <p class="recaudo-description-header">El sistema de recaudos de la empresa se organiza en tres modalidades principales, cada una con parámetros específicos de distribución de las utilidades:</p>

            <div class="recaudo-item" onclick="toggleDescription(this)">
                <div class="recaudo-header">
                    <h3 class="recaudo-title">Venta Tradicional</h3>
                    <div class="recaudo-utility">$2.500</div>
                    <i class="fas fa-chevron-down recaudo-item-icon"></i>
                </div>
                <div class="recaudo-description">
                    <p>La venta tradicional corresponde a las operaciones realizadas con afiliados vinculados mediante el proyecto de reclutamiento. Estos afiliados compran siempre a precio catálogo, el cual incluye un valor adicional de $500 que se destina directamente como comisión para su reclutador.</p>
                    <p>De esta manera, la utilidad efectiva disponible para la empresa es de $2,000 por venta, distribuida en:</p>
                    <table class="distribucion-table">
                        <tr>
                            <td>Asesor</td>
                            <td>$1.000</td>
                        </tr>
                        <tr>
                            <td>Empresa</td>
                            <td>$1.000</td>
                        </tr>
                        <tr>
                            <td>Reclutador</td>
                            <td>$500</td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="recaudo-item" onclick="toggleDescription(this)">
                <div class="recaudo-header">
                    <h3 class="recaudo-title">Venta Promotor</h3>
                    <div class="recaudo-utility">$3.500</div>
                    <i class="fas fa-chevron-down recaudo-item-icon"></i>
                </div>
                <div class="recaudo-description">
                    <p>Esta modalidad aplica para todos los promotores de la empresa, quienes refieren clientes finales para que las asesoras gestionen la venta. La utilidad se distribuye de manera distinta dependiendo de si el promotor fue reclutado mediante el proyecto de reclutamiento o no.</p>
                    <p><strong>Caso 1: Promotor con Reclutador</strong></p>
                    <table class="distribucion-table">
                        <tr>
                            <td>Empresa</td>
                            <td>$1.500</td>
                        </tr>
                        <tr>
                            <td>Asesor</td>
                            <td>$1.500</td>
                        </tr>
                        <tr>
                            <td>Reclutador</td>
                            <td>$500</td>
                        </tr>
                    </table>
                    <p><strong>Caso 2: Promotor sin Reclutador</strong></p>
                    <table class="distribucion-table">
                        <tr>
                            <td>Empresa</td>
                            <td>$1.800</td>
                        </tr>
                        <tr>
                            <td>Asesor</td>
                            <td>$1.700</td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="recaudo-item" onclick="toggleDescription(this)">
                <div class="recaudo-header">
                    <h3 class="recaudo-title">Venta Integral</h3>
                    <div class="recaudo-utility">$2.500</div>
                    <i class="fas fa-chevron-down recaudo-item-icon"></i>
                </div>
                <div class="recaudo-description">
                    <p>La venta integral aplica para aquellos afiliados que no han sido reclutados mediante el proyecto de reclutamiento y que tampoco gozan del beneficio de adquirir el producto con descuento.</p>
                    <p>En este caso, la utilidad es de $2,500, de los cuales $1,200 corresponden al asesor y $1,300 a la empresa. Adicionalmente, al no existir la deducción de $500 por concepto de comisión a reclutador, la empresa dispone íntegramente de este valor.</p>
                    <table class="distribucion-table">
                        <tr>
                            <td>Asesor</td>
                            <td>$1.200</td>
                        </tr>
                        <tr>
                            <td>Empresa</td>
                            <td>$1.300</td>
                        </tr>
                    </table>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Novaklar. Todos los derechos reservados.</p>
    </footer>

    <script>
        function toggleDescription(element) {
            const items = document.querySelectorAll('.recaudo-item');
            const isActive = element.classList.contains('active');

            items.forEach(item => {
                item.classList.remove('active');
            });

            if (!isActive) {
                element.classList.add('active');
            }
        }

        function formatCurrency(number) {
            return '$' + Math.round(number).toLocaleString('es-CO');
        }

        function calcularComision() {
            // Obtener valores de entrada
            const valorVenta = parseFloat(document.getElementById('venta').value) || 0;
            const valorInversion = parseFloat(document.getElementById('inversion').value) || 0;
            
            // Calcular utilidad neta
            const utilidadNeta = valorVenta - valorInversion;
            
            // Variables para almacenar resultados
            let comisionPromotor = 0;
            let comisionEmpresa = 0;
            
            // Aplicar reglas según el rango de utilidad
            if (utilidadNeta >= 1000 && utilidadNeta <= 5000) {
                // Rango 1: $1,000 - $5,000 (50% cada uno)
                comisionPromotor = utilidadNeta * 0.5;
                comisionEmpresa = utilidadNeta * 0.5;
            } 
            else if (utilidadNeta >= 6000 && utilidadNeta <= 8000) {
                // Rango 2: $6,000 - $8,000 ($4,000 fijos para promotor)
                comisionPromotor = 4000;
                comisionEmpresa = utilidadNeta - 4000;
            } 
            else if (utilidadNeta >= 9000) {
                // Rango 3: $9,000 en adelante (45% promotor, 55% empresa)
                comisionPromotor = utilidadNeta * 0.45;
                comisionEmpresa = utilidadNeta * 0.55;
            } 
            else {
                // Fuera de los rangos especificados
                comisionPromotor = 0;
                comisionEmpresa = utilidadNeta;
            }
            
            // Mostrar resultados
            document.getElementById('utilidad-neta').textContent = formatCurrency(utilidadNeta);
            document.getElementById('comision-promotor').textContent = formatCurrency(comisionPromotor);
            document.getElementById('comision-empresa').textContent = formatCurrency(comisionEmpresa);
            
            // Mostrar sección de resultados
            document.getElementById('resultados').style.display = 'block';
        }
    </script>
</body>
</html>
